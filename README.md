# Городской агент

## Установка
1. Склонируйте репозиторий
2. Создайте чистое python окружение и подключитесь к нему
3. Установите зависимости
```bash
pip install -r requirements.txt
```

4. Создать копию файла .env.example и назвать .env. Добавить настройки доступа к GigaChat API и к Tavily API:
```
GIGACHAT_CREDENTIALS=...
GIGACHAT_SCOPE=...

TAVILY_API_KEY=...
```

5. Запустите приложение в корне прооекта
```bash
streamlit run main.py
```
6. Откройте в браузере http://localhost:8501/

## Архитектура агента
![alt text] (images/architecture.png)

## Пример работы
![alt text] (images/example.png)

## Метрики
Для проведения оценки качества агента был сформирован тестовый датасет в test.jsonl
В качестве метрики использовалась METEOR. Агент сравнивался с проcтой LLM моделью
#### Результаты:
| Metrics  | LLM | Agent |
| ------------- | ------------- | ------------- |
| METEOR  | 0.235  | 0.312 |

#### Сравнение ответов:

| Question | LLM  | Agent |
| ------------- | ------------- | ------------- |
| Каково расписание автобусов в Осаку?  | Расписание автобусов в Осаке можно узнать на официальном сайте города или через мобильные приложения для планирования маршрутов. Также информацию предоставляют туристические центры и гостиницы.  | Режим работы автобусов в Осаке с 07:00 до 21:00. Расписание автобусов можно узнать онлайн, выбрав и заказав билеты через интернет. Остановки автобусов имеют названия на английском и японском языках, а также указаны номера маршрутов.  |
| Как добраться до Гранд-Каньона из Лас-Вегаса?  | Из Лас-Вегаса до Гранд-Каньона можно добраться на автомобиле (около 4 часов езды), экскурсионном автобусе или вертолете. Также есть возможность доехать на поезде.  | Чтобы добраться до Гранд-Каньона из Лас-Вегаса, можно воспользоваться несколькими способами: самолетом, поездом, автомобилем, автобусом или вертолетом. Самолет — самый быстрый вариант, занимающий около 2,5 часов, с билетами от \$138. Автобусные туры также популярны; поездка может занять от 2:15 до 4:30 часов в зависимости от направления. Стоимость билетов варьируется от \$190 до \$196.  |
| Как добраться до Акрополя в Афинах?  | До Акрополя можно доехать на автобусе или на метро до станции ""Акрополис"". Также можно воспользоваться такси или арендованным автомобилем.  | До Акрополя в Афинах можно добраться разными способами: <br> 1. Пешком — от площади Синтагма за 20 минут.<br> 2. Метро — линии M1 и M3 до станции ""Акрополи"", которая находится рядом с музеем. <br> 3. Велосипедом — стоянки для велосипедов есть возле станции метро ""Akropoli"" и у главного входа в Музей Акрополя. <br> 4. Автомобилем — по улице Rovertou Galli.  |